---
title: RealMySql 8.0
summary: 
date: 2025-02-27 10:17:43 +0900
lastmod: 2025-02-27 21:06:42 +0900
tags: 
categories: 
description: 
showToc: true
tocOpen: true
---

## 4ì¥ì•„í‚¤í…ì²˜
---


### MySQL ì—”ì§„ ê´€ë ¨
#### ê¸°ë³¸
- í•¸ë“¤ëŸ¬, ì—”ì§„, ìŠ¤í† ë¦¬ì§€ì—”ì§„, í•˜ë“œì›¨ì–´ë¡œ ì´ë£¨ì–´ì§
- ìŠ¤ë ˆë”©: í¬ì–´ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ(í´ë¼ì´ì–¸íŠ¸ ìŠ¤ë ˆë“œ)ì™€ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ
  - MyISAMì€ í´ë¼ì´ì–¸íŠ¸ìŠ¤ë ˆë“œê°€ ì“°ê¸° ì‘ì—…ê¹Œì§€
- ë©”ëª¨ë¦¬: ê¸€ë¡œë²Œì˜ì—­ê³¼ í´ë¼ì´ì–¸íŠ¸ ë¡œì»¬
  - ê¸€ë¡œë²Œ : í…Œì´ë¸” ìºì‹œ, ë²„í¼í’€, í•´ì‹œì¸ë±ìŠ¤, ë¦¬ë‘ë¡œê·¸ ë²„í¼
  - ë¡œì»¬ : ì»¤ë„¥ì…˜, ì •ë ¬ë²„í¼, ì¡°ì¸ ë²„í¼

> ê° í•˜ìœ„ ì‘ì—…ì´ MySQL ì—”ì§„ ì˜ì—­ì—ì„œ ì²˜ë¦¬ë˜ëŠ”ì§€, ì•„ë‹ˆë©´ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì˜ì—­ì—ì„œ ì²˜ë¦¬ë˜ëŠ”ì§€ êµ¬ë¶„í•  ì¤„ ì•Œì•„ì•¼ í•œë‹¤.

#### ì¿¼ë¦¬ ì‹¤í–‰ êµ¬ì¡°

> SQL ìš”ì²­ -> 
> (MySQL ì—”ì§„ì—ì„œ) ì¿¼ë¦¬íŒŒì„œ -> ì „ì²˜ë¦¬ê¸° -> ì˜µí‹°ë§ˆì´ì €(ì¿¼ë¦¬ ë³€í™˜, ë¹„ìš© ìµœì í™”, ì‹¤í–‰ ê³„íš ìˆ˜ë¦½) -> ì¿¼ë¦¬ì‹¤í–‰ê¸°
> (ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ì‹¤í–‰)

- ì¿¼ë¦¬ íŒŒì„œ
  - ì‚¬ìš©ì ìš”ì²­ ì¿¼ë¦¬ë¥¼ í† í°ìœ¼ë¡œ ë¶„ë¦¬í•´ íŠ¸ë¦¬êµ¬ì¡°ë¡œ ë§Œë“¦, ë¬¸ë²•ì²´í¬ë„ ì—¬ê¸°ì„œ
- ì „ì²˜ë¦¬ê¸°
  - ë¬¸ì¥ì˜ êµ¬ì¡°ì ì¸ ë¬¸ì œì  íŒŒì•…, ê°ì²´ ì¡´ì¬ì—¬ë¶€ë‚˜ ì ‘ê·¼ê¶Œí•œ ì²´í¬ë„ ì—¬ê¸°ì„œ
- ì˜µí‹°ë§ˆì´ì €
  - ê°€ì¥ ì €ë ´í•œ ë¹„ìš©ì˜ ì‹¤í–‰ê³„íš ê²°ì •
> ì´ ì±…ì—ì„œëŠ” ì˜µí‹°ë§ˆì´ì €ê°€ ì„ íƒí•˜ëŠ” ë‚´ìš©ì„ ì„¤ëª…í•  ê²ƒì´ë©°, ì–´ë–»ê²Œ í•˜ë©´ ì˜µí‹°ë§ˆì´ì €ê°€ ë” ë‚˜ì€ ì„ íƒì„ í•  ìˆ˜ ìˆê²Œ
> ìœ ë„í•˜ëŠ”ê°€ë¥¼ ì•Œë ¤ì¤„ ê²ƒì´ë‹¤.

#### ì‹¤í–‰ ì—”ì§„
> ë§Œë“¤ì–´ì§„ ê³„íšëŒ€ë¡œ ê° í•¸ë“¤ëŸ¬ì—ì„œ ë°›ì€ ìš”ì²­ì„ ë‹¤ë¥¸ í•¸ë“¤ëŸ¬ ìš”ì²­ì˜ ì…ë ¥ìœ¼ë¡œ ì—°ê²°í•˜ëŠ” ì—­í• 

#### ê·¸ ì™¸
ê°ê°ì˜ ì„¸ë¶€ ì£¼ì œë¡œ ì¡ëŠ”ê²Œ ì¢‹ì€ ê²ƒ ê°™ë‹¤. ë¬´íŠ¼ ì•„ë˜ì™€ ê°™ì€ ì •ë³´ë“¤ì´ ì—”ì§„ì—ì„œ ì§€ì›í•œë‹¤.
- ë³µì œ
- ì¿¼ë¦¬ ìºì‹œ
- ìŠ¤ë ˆë“œ í’€
- íŠ¸ëœì­ì…˜ ì§€ì› ë©”íƒ€ë°ì´í„°


### InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì•„í‚¤í…ì²˜
> ê±°ì˜ ìœ ì¼í•˜ê²Œ ë ˆì½”ë“œ ê¸°ë°˜ì˜ ì ê¸ˆì„ ì œê³µí•œë‹¤.

#### í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì— ì˜í•œ í´ëŸ¬ìŠ¤í„°ë§
- í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ì˜ ìˆœì„œëŒ€ë¡œ ë””ìŠ¤í¬ì— ì €ì¥ë¨
- ëª¨ë“  ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” ë ˆì½”ë“œì˜ ì£¼ì†Œ ëŒ€ì‹  í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ ê°’ì„ ë…¼ë¦¬ì ì¸ ì£¼ì†Œë¡œ ì‚¬ìš©(MyISAMì—ì„œëŠ” ì‹¤ì œ ë¬¼ë¦¬ì ì¸ ì£¼ì†Œ)

#### ì™¸ë˜ í‚¤ ì§€ì›
- ì‹¤ì œ ì—”ì§„ë ˆë²¨ì—ì„œì˜ ì™¸ë˜í‚¤ ì œì•½ ì¡°ê±´ì— ëŒ€í•œ ì§€ì›ì„ í•¨

#### MVCC
> ì¼ë°˜ì ìœ¼ë¡œ ë ˆì½”ë“œ ë ˆë²¨ì˜ íŠ¸ëœì­ì…˜ì„ ì§€ì› í•˜ëŠ” dbmsê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ë©°, ì ê¸ˆì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì¼ê´€ëœ ì½ê¸°ë¥¼ ì œê³µí•˜ëŠ”ë° ëª©ì ì´ ìˆë”°.

- ì–¸ë‘ë¡œê·¸ë¥¼ í†µí•´ ì§€ì›
- multi versionì´ë€ í•˜ë‚˜ì˜ ë ˆì½”ë“œì— ëŒ€í•´ ì—¬ëŸ¬ê°œì˜ ë²„ì „ì´ ë™ì‹œ ê´€ë¦¬ëœë‹¤ëŠ” ê²ƒ
- êµ¬ë¬¸ ì‹¤í–‰ê³¼ ë™ì‹œì— (ì»¤ë°‹ ì—¬ë¶€ì™€ ê´€ë ¨ ì—†ì´) innodbë²„í¼ í’€ì— ë°˜ì˜, ë””ìŠ¤í¬ì—ëŠ” ë°˜ì˜ì—¬ë¶€ê°€ í™•ì‹¤ì¹˜ ì•ŠìŒ
- ì´ ì‹œì ì—ì„œì˜ ì¡°íšŒëŠ” ê²©ë¦¬ë ˆë²¨ì— ë”°ë¼ ë‹¤ë¥´ë‹¤. í¬ê²Œ ì‚´í´ë³´ë©´
- `READ_UNCOMMITED` : ë²„í¼ì—ì„œ ë°˜í™˜í•œë‹¤.
- `READ_COMMITED` ì´ìƒì˜ ê²©ë¦¬ ë ˆë²¨ : ì»¤ë°‹ ì „ì´ë©´ ì–¸ë‘ë¡œê·¸ì—ì„œ ë°˜í™˜í•œë‹¤.
- ì¦‰ innodbë²„í¼í’€-ë””ìŠ¤í¬, ì–¸ë‘ë¡œê·¸ê¹Œì§€ ë©€í‹°ë²„ì „ì´ ìˆëŠ” ê²ƒ

#### ì ê¸ˆ ì—†ëŠ” ì¼ê´€ëœ ì½ê¸° (Non-Locking Consitent Read)
- ê°„ë‹¨í•˜ê²Œ ìš”ì•½í•˜ë©´ ì½ê¸°ì— ëŒ€í•œ ë½ì„ ê±¸ì§€ ì•Šê³ , ê²©ë¦¬ë ˆë²¨ì„¤ì •ì— ë”°ë¼ì„œ, ì½ëŠ” ì‹œì ì— ì ì ˆí•œ ë°ì´í„°ë¥¼ ì½ì–´ê°

#### ìë™ ë°ë“œë½ ê°ì§€
- ì ê¸ˆ ëŒ€ê¸° ëª©ë¡ì„ ê·¸ë˜í”„ í˜•íƒœë¡œ ê´€ë¦¬
- ë³„ë„ì˜ ìŠ¤ë ˆë“œê°€ í•´ë‹¹ ëª©ë¡ì„ í† ëŒ€ë¡œ ë°ë“œë½ì„ ê°ì§€
- êµì°©ìƒíƒœì˜ íŠ¸ëœì­ì…˜ì¤‘ í•˜ë‚˜ë¥¼ ì¢…ë£Œ
- íŠ¸ëœì­ì…˜ ì–¸ë‘ ë¡œê·¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ(ê²½ì œì ì¸ ê´€ì ì—ì„œ) ê°•ì œì¢…ë£Œí•  íŠ¸ëœì­ì…˜ì„ ì„ íƒ
- ì°¸ê³ ë¡œ ìƒìœ„ ë ˆì´ì–´ì˜ mysqlì—”ì§„ì—ì„œ í…Œì´ë¸”ì ê¸ˆì´ ëœê²½ìš° ë°ë“œë½ íŒë‹¨ì´ ë¶ˆí™•ì‹¤ í•  ìˆ˜ ìˆëŠ”ë°, ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ ë°©ì§€í• ìˆ˜ìˆìŒ `innodb_table_locks`
- ê¸°ë³¸ì ìœ¼ë¡œ ë°ë“œë½ ê°ì§€ ìŠ¤ë ˆë“œ ìì²´ì˜ ë¶€í•˜ë‚˜ ë¦¬ì†ŒìŠ¤ê°€ í¬ì§€ ì•Šì§€ë§Œ, íŠ¸ëœì­ì…˜ì´ ë§ì•„ì§€ë©´ ë¶€ë‹´ì´ë¨, ê·¸ë¦¬ê³  ì‹¬ì§€ì–´ëŠ” ìœ„ì˜ `ì ê¸ˆ ëŒ€ê¸° ëª©ë¡`ì—ë„ ë½ì„ ê±¸ê¸°ì—, ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ì¿¼ë¦¬ì˜ íŠ¸ëœì­ì…˜ì—ë„ ì§€ì—°ì„ ìœ ë°œí•¨.
- ê·¸ë˜ì„œ `innodb_deadlock_detect`ë¥¼ ë„ê³ , `innodb_lock_wait_timeout`ì„ í†µí•´ì„œ ë½ì‹œê°„ì„ í†µí•´ íŠ¸ëœì­ì…˜ì„ ì–¸ë‘í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìš´ì˜í•˜ê¸°ë„ í•¨.
  - ì±…ì—ì„œ ë‚˜ì˜¨ ë‚´ìš©ì€ ì•„ë‹ˆì§€ë§Œ, ì•„ë§ˆë„ êµì°©ìƒíƒœì˜ íŠ¸ëœì­ì…˜ì„ ê²½ì œì ìœ¼ë¡œ ì¢…ë£Œí•˜ëŠ”ê²ƒì€ ì•„ë‹ˆë¼, ê²°ê³¼ì ì¸ ë¶€í™”ëŠ” ë” ì•ˆì¢‹ì„ ìˆ˜ ìˆì„ê²ƒ ê°™ë‹¤. (ìƒí™©ì— ë”°ë¼ì„œ)


#### ìë™í™”ëœ ì¥ì•  ë³µêµ¬
- ì¼ë°˜ì ìœ¼ë¡œ ë§¤ìš° ê²¬ê³ í•œ ì¥ì• ë³µêµ¬ ì‹œìŠ¤í…œì´ ìˆìŒ
- `innodb_force_recovery` : ì¥ì• ê°€ ë‚˜ì„œ ì‹œì‘ì´ ì•ˆë˜ëŠ”ê²½ìš° ì‚¬ìš©
- ìœ„ì˜ ë³€ìˆ˜ ì„¤ì •ìœ¼ë¡œ ì‹œì‘í•˜ë©´, ê°€ëŠ¥í•œ ë§Œí¼ ë¤í”„ë¡œ ë°ì´í„°ë¥¼ ë°±ì—…í•˜ê³ , ê·¸ ë°ì´í„°ë¡œ í…Œì´ë¸” ë‹¤ì‹œ ìƒì„±í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤.
  - 1=SRV_FORCE_IGNORE_CORRUPT : ì¸ë±ìŠ¤ë‚˜ í…Œì´ë¸”ì˜ ì†ìƒì„ ë¬´ì‹œí•˜ê³  ì‹œì‘
  - 2=SRV_FORCE_NO_BACKUP : ë©”ì¸ìŠ¤ë ˆë“œë¥¼ ì‹œì‘í•˜ì§€ ì•Šê³  ì„œë²„ ì‹œì‘, ë©”ì¸ìŠ¤ë ˆë“œê°€ ì–¸ë‘ë°ì´í„° ì‚­ì œí•˜ëŠ”ê³¼ì •ì—ì„œ ì¥ì• ê°€ ë°˜ë³µëœë‹¤ë©´ ì´ê±° ì‚¬ìš©
  - 3=SRV_FORCE_NO_TRX_UNDO : ì»¤ë°‹ë˜ì§€ ì•Šê³  ì¢…ë£Œëœ íŠ¸ëœì­ì…˜ì˜ ë¡¤ë°±ì„ ë§‰ìŒ
  - 4=SRV_FORCE_NO_IBUF_MERGE : ì¸ì„œíŠ¸ ë²„í¼ì˜ ë‚´ìš© ë¬´ì‹œí•˜ê³  ì‹œì‘
  - 5=SRV_FORCE_NO_UNDO_LOG_SCAN : ì–¸ë‘ë¡œê·¸ë¥¼ ìŠ¤ìº”í•˜ì§€ ì•Šê³ , ì¥ì• ì‹œì ì˜ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•œê²ƒì²˜ëŸ¼ ë™ì‘
  - 6=SRV_FORCE_NO_LOG_REDO : ë§ˆì§€ë§‰ ì²´í¬í¬ì¸íŠ¸ë¡œ ì‹œì‘

> ì´ë˜ë„ ì•ˆëœë‹¤ë©´, dbë°±ì—…ê³¼ ë°”ì´ë„ˆë¦¬ë¥¼ í†µí•´ì„œ..

### InnoDB ë²„í¼ í’€
> InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ê°€ì¥ í•µì‹¬ì ì¸ ë¶€ë¶„, ë””ìŠ¤í¬ ë°ì´í„°íŒŒì¼ì´ë‚˜ ì¸ë±ìŠ¤ ì •ë³´ë¥¼ ë©”ëª¨ë¦¬ì— ìºì‹œí•´ë‘ëŠ” ê³µê°„ì´ë‹¤.
> ì“°ê¸°ì‘ì—…ì„ ì§€ì—°ì‹œì¼œ ì¼ê´„ ì‘ì—…ìœ¼ë¡œ ì²˜ë¦¬í•´ì£¼ëŠ” ë²„í¼ ì—­í• ë„ ê°™ì´ í•œë‹¤.

#### ë²„í¼ í’€ì˜ í¬ê¸° ì„¤ì •
- osì˜ 80í¼ì„¼íŠ¸ë¥¼ í• ë‹¹í•˜ë¼ëŠ” ê°€ì´ë“œë¼ì¸ì€ ì˜ëª»ë¨
- ê²½ìš°ì— ë”°ë¼ì„œ ë ˆì½”ë“œ ë²„í¼ì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ë  ìˆ˜ ìˆìŒ
- 128mbì˜ ì²­í¬ë¥¼ ë‹¨ìœ„ë¡œ ì¡°ì • ê°€ëŠ¥

#### ë²„í¼ í’€ì˜ êµ¬ì¡°
> ê±°ëŒ€í•œ ë©”ëª¨ë¦¬ë¥¼ í˜ì´ì§€í¬ê¸°ë¡œ ìª¼ê°œì„œ ê´€ë¦¬í•œë‹¤. í¬ê²Œ LRU ë¦¬ìŠ¤íŠ¸, Flush ë¦¬ìŠ¤íŠ¸, Free ë¦¬ìŠ¤íŠ¸ë¥¼ ê´€ë¦¬í•œë‹¤.
- `LRU ë¦¬ìŠ¤íŠ¸`
  - ì¡°ê¸ˆ ë” ì •í™•í•˜ê²ŒëŠ”, LRUì™€ MRU ë¦¬ìŠ¤íŠ¸ê°€ ê²°í•©ëœ í˜•íƒœ
  - ê°ê° New ì„œë¸Œë¦¬ìŠ¤íŠ¸ì™€(MRU), Old ì„œë¸Œë¦¬ìŠ¤íŠ¸(LRU)ë¡œ ê´€ë¦¬í•œë‹¤.
  - ìƒˆë¡œìš´ í˜ì´ì§€ëŠ” New ë¦¬ìŠ¤íŠ¸ì˜ tailê³¼ Old ë¦¬ìŠ¤íŠ¸ì˜ headì˜ ì ‘ì ì— ì‚½ì…ëœë‹¤.
  - ë””ìŠ¤í¬ ì½ê¸°ë¥¼ ìµœì†Œí™” í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©ëœë‹¤.
- InnoDBì˜ ë°ì´í„° ì°¾ëŠ” ê³¼ì •
  1. í•„ìš”í•œ ë ˆì½”ë“œê°€ ì €ì¥ëœ í˜ì´ì§€ê°€ ë²„í¼ í’€ì— ìˆëŠ”ì§€ ê²€ì‚¬. (InnoDB ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ë¡œ í˜ì´ì§€ ì°¾ê¸°, í•´ë‹¹ í…Œì´ë¸”ì˜ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ë²„í¼ í’€ì—ì„œ í˜ì´ì§€ ê²€ìƒ‰, ë²„í¼ í’€ì—ì„œ ì´ë¯¸ í˜ì´ì§€ê°€ ìˆë‹¤ë©´ í•´ë‹¹ í˜ì´ì§€ì˜ í¬ì¸í„°ë¥¼ Newì„œë¸Œë¦¬ìŠ¤íŠ¸ ë°©í–¥ìœ¼ë¡œ ìŠ¹ê¸‰)
  2. ë””ìŠ¤í¬ì—ì„œ í•„ìš”í•œ ë°ì´í„°í˜ì´ì§€ë¥¼ ë²„í¼ í’€ì— ì ì¬, ì ì¬í•œ ì´í›„ì— LRU í—¤ë“œ ë¶€ë¶„ì— ì¶”ê°€
  3. ë²„í¼ í’€ì— ìƒì£¼í•˜ëŠ” í˜ì´ì§€ëŠ” ìµœê·¼ ì ‘ê·¼ ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ageê°€ ë¶€ì—¬ë¨
  4. í•„ìš”í•œ ë°ì´í„°ê°€ ìì£¼ ì ‘ê·¼ëë‹¤ë©´ í•´ë‹¹ í˜ì´ì§€ì˜ ì¸ë±ìŠ¤ í‚¤ë¥¼ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì— ì¶”ê°€
  5. ì¦‰ ìì£¼ ì‚¬ìš©ëë‹¤ë©´ MRUì˜ì—­ì—ì„œ ì˜¤ë˜ ì‚´ì•„ë‚¨ê³ , ë°˜ëŒ€ë¡œëŠ” LRUëìœ¼ë¡œ ë°€ë ¤ë‚˜ì„œ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œë¨
- `flush ë¦¬ìŠ¤íŠ¸`
  - ë””ìŠ¤í¬ë¡œ ë™ê¸°í™”ë˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ê°€ì§„ ë°ì´í„° í˜ì´ì§€ì˜ ë³€ê²½ ì‹œì  ê¸°ì¤€ì˜ í˜ì´ì§€ ëª©ë¡ì„ ê´€ë¦¬.
  - ì½ì€ ìƒíƒœì—ì„œ ìˆ˜ì •ì´ ìˆë‹¤ë©´ í”ŒëŸ¬ì‹œ ë¦¬ìŠ¤íŠ¸ì— ì˜¤ë¥´ê³ , ê´€ë¦¬ë˜ë‹¤ê°€ ë””ìŠ¤í¬ì— ê¸°ë¡ë¨
  - ë³€ê²½ì´ ë˜ì–´ í˜ì´ì§€ì˜ ë°ì´í„°ê°€ ë³€ê²½ ë˜ë©´ ì•„ê¹Œ ë³¸ ë¦¬ë‘ ë¡œê·¸ì— ê¸°ë¡í•˜ëŠ” (ë³€ê²½ì„) ê³¼ì •ì´ ì¼ì–´ë‚¨.
  - ë¦¬ë‘ ë¡œê·¸ê°€ ë””ìŠ¤í¬ë¡œ ê¸°ë¡ëë‹¤ê³  í•´ì„œ ë°ì´í„° í˜ì´ì§€ê°€ ë””ìŠ¤í¬ë¡œ ê¸°ë¡ëë‹¤ëŠ”ê²ƒì„ í•­ìƒ ë³´ì¥í•˜ì§€ëŠ” ì•ŠìŒ
- `free ë¦¬ìŠ¤íŠ¸`
  - ì‹¤ì œ ë°ì´í„°ë¡œ ì±„ì›Œì§€ì§€ ì•ŠëŠ” ì—¬ìœ ê³µê°„
  - ì‚¬ìš©ìì˜ ì¿¼ë¦¬ê°€ ìƒˆë¡­ê²Œ ë””ìŠ¤í¬ì˜ ë°ì´í„° í˜ì´ì§€ë¥¼ ì½ì–´ì™€ì•¼í•˜ëŠ” ê²½ìš° ì‚¬ìš©ë¨

#### ë²„í¼ í’€ê³¼ ë¦¬ë‘ ë¡œê·¸
- ë…¼ë¦¬ì ìœ¼ë¡œ ë””ìŠ¤í¬ì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ì˜¬ë¦´ ìˆ˜ ìˆëŠ” ìƒí™©ì´ ì•„ë‹ˆë¼ë©´, ë²„í¼í’€ì„ ëŠ˜ë¦¬ë©´ ì¿¼ë¦¬ ì„±ëŠ¥ì€ ë¹¨ë¼ì§
- ê·¼ë³¸ì ìœ¼ë¡œ ë”°ì ¸ë³´ë©´ InnoDB ë²„í¼ í’€ì€ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ ë‘ê°€ì§€ ê´€ì ìœ¼ë¡œ ì ‘ê·¼í•¨ `ë°ì´í„° ìºì‹œ`, `ë²„í¼ë§`
- ë²„í¼í’€ ëŠ˜ë¦¬ëŠ”ê±´ ì „ìì— ê´€ì—¬
- ë²„í¼ë§ì„ ëŠ˜ë¦¬ë ¤ë©´ ë²„í¼í’€ê³¼ ë¦¬ë‘ ë¡œê·¸ì˜ ê´€ê³„ë¥¼ ì•Œì•„ì•¼ í•œë‹¤ê³  í•œë‹¤.
  - ë²„í¼í’€ì€ í´ë¦°í˜ì´ì§€ì™€ ë”í‹°í˜ì´ì§€(ë””ìŠ¤í¬ì—ì„œ ì½ì–´ì˜¨ ì´í›„ ë³€ê²½ì´ ë°œìƒí•œ í˜ì´ì§€) ëª¨ë‘ë¥¼ ê°€ì§€ê³  ìˆë‹¤.
  - ë¦¬ë‘ ë¡œê·¸ëŠ” 1ê°œ ì´ìƒì˜ ê³ ì • í¬ê¸° íŒŒì¼ì„ ì—°ê²°í•´ì„œ ìˆœí™˜ ê³ ë¦¬ì²˜ëŸ¼ ì‚¬ìš©
  - ë°ì´í„° ë³€ê²½ì´ ê³„ì† ë°œìƒí•˜ë©´ ë¦¬ë‘ ë¡œê·¸íŒŒì¼ì— ê¸°ë¡ëë˜ ë¡œê·¸ ì—”íŠ¸ë¦¬ëŠ” ì–´ëŠ ìˆœê°„ ë‹¤ì‹œ ìƒˆë¡œìš´ ë¡œê·¸ ì—”íŠ¸ë¦¬ë¡œ ë®ì–´ì”Œì›Œì§
  - ê·¸ë˜ì„œ ë¦¬ë‘ ë¡œê·¸íŒŒì¼ì—ì„œ ì¬ì‚¬ìš©ê°€ëŠ¥í•œ ê³µê°„ê³¼ ë¶ˆê°€ëŠ¥í•œ ê³µê°„ì„ êµ¬ë¶„í•´ì„œ ê´€ë¦¬í•´ì•¼í•˜ëŠ”ë°, ë¶ˆê°€ëŠ¥í•œê³µê°„ì„ `í™œì„± ë¦¬ë‘ ë¡œê·¸`ë¼ê³  í•œë‹¤.
  - ê¸°ë³¸ì ìœ¼ë¡œ ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì€ ìˆœí™˜ë˜ì–´ ì¬ì‚¬ìš©ë˜ëŠ”ë°, ë§¤ ê¸°ë¡ì‹œë§ˆë‹¤ ë¡œê·¸í¬ì§€ì…˜ì´ ì¦ê°€ ì´ê²ƒì„ LSNì´ë¼ê³  í•œë‹¤.
  - ê·¸ë¦¬ê³  InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ì£¼ê¸°ì ìœ¼ë¡œ ì²´í¬í¬ì¸íŠ¸ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œì¼œ ë¦¬ë‘ ë¡œê·¸ì™€ ë²„í¼í’€ì˜ ë”í‹°í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ë¡œ ë™ê¸°í™”í•˜ëŠ”ë°
  - ë°œìƒí•œ ì²´í¬í¬ì¸íŠ¸ ì¤‘ ê°€ì¥ ìµœê·¼ ì²´í¬í¬ì¸íŠ¸ ì§€ì ì˜ LSNì´ í™œì„± ë¦¬ë‘ ë¡œê·¸ ê³µê°„ì˜ ì‹œì‘ì 
  - í•˜ì§€ë§Œ í™œì„± ë¦¬ë‘ ë¡œê·¸ ê³µê°„ì˜ ë§ˆì§€ë§‰ì€ ê³„ì†í•´ì„œ ì¦ê°€í•˜ê¸°ì— ì²´í¬í¬ì¸íŠ¸ì™€ ë¬´ê´€
  - ê·¸ë˜ì„œ ê°€ì¥ ìµœê·¼ ì²´í¬í¬ì¸íŠ¸ì˜ lsnê³¼ ë§ˆì§€ë§‰ ë¦¬ë‘ ë¡œê·¸ ì—”íŠ¸ë¦¬ì˜ lsnì˜ ì°¨ì´ë¥¼ ì²´í¬í¬ì¸íŠ¸ì—ì´ì§€ë¼ê³  í•¨
  - ê²°ë¡ ì ìœ¼ë¡œ ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ í¬ê¸°ê°€ ì ë‹¤ë©´ ë„ˆë¬´ ì ì€ ë”í‹° í˜ì´ì§€ì˜ ì œí•œë•Œë¬¸ì— ì“°ê¸°ê°€ ìì£¼ì¼ì–´ë‚˜ê²Œ ë˜ê³ , ì´ëŸ¬ë©´ ë²„í¼í’€ì˜ ë¬¼ë¦¬ì ì¸ ë©”ëª¨ë¦¬ê°€ ë†’ì•„ë´ì•¼ ì“°ê¸° ë²„í¼ë§ì˜ íš¨ê³¼ëŠ” ì „í˜€ ì—†ë‹¤.
  - ë°˜ëŒ€ë¡œ ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ í¬ê¸°ê°€ ì „ì²´ ë²„í¼í’€ì— ë¹„í•´ í„°ë¬´ë‹ˆ ì—†ì´ ë†’ë‹¤ë©´ ë‹¨ í•œ ìˆœê°„ì— ë„ˆë¬´ í° ë””ìŠ¤í¬ ì“°ê¸°ê°€ ì¼ì–´ë‚˜ê²Œ ëœë‹¤.

#### ë²„í¼ í’€ í”ŒëŸ¬ì‹œ
- ë”í‹°í˜ì´ì§€ë“¤ì˜ ë””ìŠ¤í¬ ë™ê¸°í™”ë¥¼ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ë‘ê°€ì§€ì˜ ê¸°ëŠ¥ì„ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰í•˜ë‹¤.
- í”ŒëŸ¬ì‹œ ë¦¬ìŠ¤íŠ¸ í”ŒëŸ¬ì‹œ
  - ë¦¬ë‘ ë¡œê·¸ ê³µê°„ì˜ ì¬í™œìš©ì„ ìœ„í•´ ì£¼ê¸°ì ìœ¼ë¡œ ì˜¤ë˜ëœ ë¦¬ë‘ ë¡œê·¸ ì—”íŠ¸ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” ê³µê°„ì„ ë¹„ì›Œì•¼í•œë‹¤.
  - ê·¸ëŸ¬ë ¤ë©´ ë‹¹ì—°íˆ ë”í‹°í˜ì´ì§€ê°€ ë¨¼ì € ë””ìŠ¤í¬ë¡œ ë™ê¸°í™” ë¼ì•¼ í•œë‹¤.
  - ê·¸ëŸ¬ê¸° ìœ„í•´ì„œ flush list flush í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì„œ ì´ë¥¼ ìˆ˜í–‰í•œë‹¤.
  - `innodb_page_cleaners` : ë”í‹°í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ë¡œ ë™ê¸°í™”í•˜ëŠ” í´ë¦¬ë„ˆ ìŠ¤ë ˆë“œì˜ ê°¯ìˆ˜
  - `innodb_buffer_pool_instances` : ì—¬ëŸ¬ê°œì˜ ë²„í¼í’€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë™ì‹œì— ì‚¬ìš©í•˜ëŠ”ë° ê·¸ ê°¯ìˆ˜ ì—¬ê¸°ì„œ ì–¸ê¸‰ëœ ê²ƒì€ í´ë¦¬ë„ˆ ìŠ¤ë ˆë“œì™€ ê°¯ìˆ˜ë¥¼ ìë™ì ìœ¼ë¡œ ë§ì¶°ì£¼ëŠ”ê²Œ ë””í´íŠ¸ë¡œ ë˜ì–´ìˆìœ¼ë©° êµ³ì´ ë³€ê²½í•  ì´ìœ ê°€ ì—†ë‹¤ëŠ” ì–¸ê¸‰ê³¼ í•¨ê»˜
  - `innodb_max_dirty_pages_pct` : ë²„í¼í’€ì—ì„œ ë”í‹°í˜ì´ì§€ê°€ ì°¨ì§€í•  ìˆ˜ ìˆëŠ” ë¹„ìœ¨
  - `innodb_max_dirty_pages_lwm` : ì“°ê¸° í­ë°œ (Disk IO Burst)ì„ ëŒ€ë¹„í•˜ì—¬ íŠ¹ì • ë¹„ìœ¨ ì´ìƒì¸ê²½ìš° ì£¼ê¸°ì ìœ¼ë¡œ ì“°ê¸°ë¥¼ í•˜ë„ë¡ ì„¤ì •í•˜ëŠ” í¼ì„¼í…Œì´ì§€
  - ê·¸ì™¸ì—ë„ capacityì™€ ê°™ì€ ê°’ë“¤ì´ ìˆëŠ”ë°, ì‚¬ì‹¤ ì—¬ê¸° ë‚˜ë¨¸ì§€ ì„¸ì„¸í•œ ì„¤ì •ë“¤ì€ hddë¥¼ ì“°ë˜ ì‹œì ˆ ì¹˜ëª…ì ì´ë˜ disk ioë¥¼ ì¤„ì´ë ¤ê³  í•œ ë…¸ë ¥ì— ë” ê°€ê¹Œì›Œì„œ ì •ë§ ì˜ˆë¯¼í•˜ì§€ ì•Šìœ¼ë©´ ì•ˆ ê±´ë“¤ì–´ë„ ë ê²ƒ ê°™ë‹¤.
- LRU ë¦¬ìŠ¤íŠ¸ í”ŒëŸ¬ì‹œ
	- í”„ë¦¬í˜ì´ì§€ë¡œ ì˜®ê¸´ë‹¤, ì •ë„ ì œì™¸í•˜ê³¤ í° ì°¨ì´ ì—†ë‹¤.

#### ë²„í¼ í’€ ìƒíƒœ ë°±ì—… ë° ë³µêµ¬
- ì˜ ë©”ëª¨ë¦¬ ì¦‰ ë²„í¼í’€ì— ì˜¬ë¼ê°„ìƒíƒœ(warmed up)ì˜ ì¿¼ë¦¬ëŠ” ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° ëŒ€ë¹„ ìˆ˜ì‹­ë°° ë¹ ë¦„
- ì˜ˆì „ì—ëŠ” ì´ë¶€ë¶„ì— ëŒ€í•œ ê´€ë¦¬ê°€ ì˜ ì•ˆë˜ì–´ ì„œë¹„ìŠ¤ì „ í’€í…Œì´ë¸” ìŠ¤ìº”ì„ ìœ ë°œì‹œì¼œì„œ ì›Œë°ì—…ì„ ë§¤ë‰´ì–¼í•˜ê²Œ ìˆ˜í–‰í–ˆìŒ
- ì§€ê¸ˆì€ ê·¸ëŸ´ í•„ìš” ì—†ì´ ë²„í¼ í’€ ë¤í”„ë¥¼ í†µí•´ì„œ ì¬ì‹¤í–‰ë˜ì–´ë„ ë²„í¼ê°€ ì±„ì›Œì ¸ ìˆë„ë¡ ê´€ë¦¬

#### ë²„í¼ í’€ì˜ ì ì¬ ë‚´ìš© í™•ì¸
- `information schema` -> `innodb_buffer_page` í…Œì´ë¸”ì—ì„œ ë²„í¼í’€ í™•ì¸ê°€ëŠ¥
```sql
select
	it.name table_name,
	ii.name index_name,
	ici.n_cached_pages n_cached_pages
from information_schema.innodb_tables it
	inner join information_schema.innodb_indexes ii on ii.table_id = it.table_id
	inner join information_schema.innodb_cached_indexes ici on ici.index_id = ii.index_id
where it.name=concat('employees','/','employess')
;
```

#### ì–¸ë‘ ë¡œê·¸
- ì£¼ ì‚¬ìš©ì²˜ëŠ” ìœ„ì—ì„œ ì–¸ê¸‰í•œ ê²ƒì²˜ëŸ¼ íŠ¸ëœì­ì…˜ë³´ì¥ê³¼ ê²©ë¦¬ìˆ˜ì¤€ ë³´ì¥
- ì¿¼ë¦¬ ì‹¤í–‰ ì‹œì ì— ì‘ì„±ëœë‹¤.(íŠ¸ëœì­ì…˜ì„ ìœ„í•´)
#### ì–¸ë‘ ë¡œê·¸ ë ˆì½”ë“œ ëª¨ë‹ˆí„°ë§
- ì¼ë‹¨ ê´€ë¦¬ì— ë¹„ìš©ì´ ë§ì´ ë“ ë‹¤. 1ì–µê±´ì˜ ë°ì´í„°ë¥¼ ë‚ ë¦¬ê±°ë‚˜ ë³€ê²½í•˜ëŠ” dmlì´ë©´? 
- ê·¸ë¦¬ê³  íŠ¸ëœì­ì…˜ì˜ ê´€ë¦¬ê°€ ì•ˆëœë‹¤ë©´, ì–¸ë‘ë¡œê·¸ê°€ ë‹¤ë¥¸íŠ¸ëœì­ì…˜ì˜ ì˜í–¥ì„ ë°›ì•„ ì–¸ë‘ë¡œê·¸ê°€ ì‚­ì œê°€ ì•ˆ ë  ìˆ˜ ìˆë‹¤.
- íŠ¸ëœì­ì…˜ Aê°€ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ Bì™€ Cê°€ dml íŠ¸ëœì­ì…˜ì„ ë‚ ë¦°ë‹¤ë©´, bì™€ cì˜ Undo ë¡œê·¸ëŠ” ì‚­ì œë˜ì§€ ì•ŠìŒ.
- ì´ìœ ëŠ” íŠ¸ëœì­ì…˜ Aê°€ ì—¬ì „íˆ í•´ë‹¹ ë°ì´í„°ë¥¼ ì½ì„ ê°€ëŠ¥ì„±ì´ ìˆê¸° ë•Œë¬¸.
- 8.0 ì´í›„ ì–¸ë‘ë¡œê·¸ê°€ ê°œì„ ë˜ì–´ ì–¸ë‘ë¡œê·¸ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë©° ë””ìŠ¤í¬ ê³µê°„ì„ ì¤„ì´ëŠ”ê²Œ ê°€ëŠ¥í•´ì¡ŒìŒ
- ì°¸ê³ ë¡œ í…Œì´ë¸”ìŠ¤í˜ì´ìŠ¤ ì¸ ë§Œí¼ ì´ë…¸ë””ë¹„ ë²„í¼í’€ì— ì˜¬ë¼ê°€ê¸°ë„ í•˜ì§€ë§Œ ë¡œê·¸ìì²´ëŠ” ë””ìŠ¤í¬

#### ì²´ì¸ì§€ ë²„í¼

- ì²´ì¸ì§€ ë²„í¼ëŠ” ì¸ë±ìŠ¤ í˜ì´ì§€ì˜ ë³€ê²½ ë‚´ìš©ì„ ë””ìŠ¤í¬ê°€ ì•„ë‹Œ ë©”ëª¨ë¦¬ì— ì„ì‹œ ì €ì¥í•˜ëŠ” ê³µê°„ Â 
- InnoDB ë²„í¼ í’€(Buffer Pool)ì˜ ì¼ë¶€ë¡œ ê´€ë¦¬ë˜ë©° ë³´ì¡° ì¸ë±ìŠ¤(Secondary Index) ë³€ê²½ ì‚¬í•­ì„ ì €ì¥ Â 
- ë°ì´í„° í˜ì´ì§€ë¥¼ ì¦‰ì‹œ ë””ìŠ¤í¬ì— ê¸°ë¡í•˜ì§€ ì•Šê³  ë³€ê²½ ì‚¬í•­ì„ ëˆ„ì í•˜ì—¬ ì„±ëŠ¥ ìµœì í™” Â 
- ë°ì´í„°ê°€ ì¡°íšŒë  ë•Œ ë””ìŠ¤í¬ì™€ ë™ê¸°í™”(merge)ë˜ë©°, ì¼ì • ì£¼ê¸°ë§ˆë‹¤ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œê°€ ìë™ìœ¼ë¡œ ë³‘í•© Â 
- ë™ì‘ ì˜ˆì‹œ
	1. ì‚¬ìš©ìê°€ ë³´ì¡° ì¸ë±ìŠ¤ì— ëŒ€í•œ DML(INSERT, DELETE, UPDATE)ì„ ì‹¤í–‰ Â 
	2. ë³€ê²½ëœ ì¸ë±ìŠ¤ í˜ì´ì§€ê°€ ë²„í¼ í’€ì— ì—†ë‹¤ë©´, ì²´ì¸ì§€ ë²„í¼ì— ë³€ê²½ ì‚¬í•­ì„ ê¸°ë¡ Â 
	3. ì´í›„ í•´ë‹¹ ì¸ë±ìŠ¤ í˜ì´ì§€ê°€ ì¡°íšŒë˜ë©´ ì²´ì¸ì§€ ë²„í¼ì—ì„œ ë³€ê²½ ì‚¬í•­ì„ ì ìš©(merge) Â 
	4. ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œê°€ ì¼ì • ì‹œê°„ë§ˆë‹¤ ë””ìŠ¤í¬ì— ë°˜ì˜ Â 
- `innodb_change_buffer_max_size` ì„¤ì •ì„ í†µí•´ í¬ê¸° ì¡°ì ˆ ê°€ëŠ¥ Â 
- íŠ¸ëœì­ì…˜ì´ ë¡¤ë°±ë˜ë©´ ì²´ì¸ì§€ ë²„í¼ë„ ë¡¤ë°±ë¨ Â 
- ê¸°ë³¸ í‚¤(Primary Key)ì—ëŠ” ì ìš©ë˜ì§€ ì•Šìœ¼ë©° ë³´ì¡° ì¸ë±ìŠ¤ì—ë§Œ ì‚¬ìš© Â 
- ìì£¼ ë³€ê²½ë˜ëŠ” ë³´ì¡° ì¸ë±ìŠ¤ê°€ ë§ì€ í…Œì´ë¸”ì—ì„œ ì„±ëŠ¥ ìµœì í™” íš¨ê³¼ê°€ í¼


#### ë¦¬ë‘ ë¡œê·¸
- ë¦¬ë‘ ë¡œê·¸ëŠ” íŠ¸ëœì­ì…˜ ë³€ê²½ ë‚´ìš©ì„ ë””ìŠ¤í¬ì— ì˜êµ¬ ë°˜ì˜í•˜ê¸° ì „ì— ë¡œê·¸ë¡œ ê¸°ë¡í•˜ëŠ” êµ¬ì¡°  
- ì‹œìŠ¤í…œ ì¥ì•  ë°œìƒ ì‹œ ë¦¬ë‘ ë¡œê·¸ë¥¼ ì´ìš©í•´ ë¯¸ì™„ë£Œëœ ë³€ê²½ ì‚¬í•­ì„ ë³µêµ¬í•  ìˆ˜ ìˆìŒ  
- InnoDBëŠ” ë³€ê²½ ì‚¬í•­ì„ ë¨¼ì € ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡í•œ í›„ ë°ì´í„° í˜ì´ì§€ì— ë°˜ì˜  
- ë¦¬ë‘ ë¡œê·¸ë¥¼ í†µí•´ MySQLì´ ACID íŠ¹ì„±ì„ ë³´ì¥í•˜ë©°, COMMITëœ ë°ì´í„°ì˜ ì˜ì†ì„±ì„ ìœ ì§€  

- ì‚¬ìš©ìê°€ DML(INSERT, UPDATE, DELETE)ì„ ì‹¤í–‰í•˜ë©´ ë³€ê²½ëœ ë°ì´í„°ê°€ InnoDB ë²„í¼ í’€ì— ë°˜ì˜ë¨  
- ë³€ê²½ëœ ë‚´ìš©ì´ ë¦¬ë‘ ë¡œê·¸ ë²„í¼ì— ê¸°ë¡ëœ í›„, ì¼ì • ì¡°ê±´ì´ ì¶©ì¡±ë˜ê±°ë‚˜ COMMIT ë°œìƒ ì‹œ ë¦¬ë‘ ë¡œê·¸ ë²„í¼ì˜ ë‚´ìš©ì„ ë””ìŠ¤í¬ì— ìˆœì°¨ì ìœ¼ë¡œ ê¸°ë¡  
- ì´í›„ InnoDBì˜ ë°±ê·¸ë¼ìš´ë“œ í”ŒëŸ¬ì‹œ ìŠ¤ë ˆë“œê°€ ë³€ê²½ëœ ë°ì´í„°ë¥¼ ì‹¤ì œ ë°ì´í„° íŒŒì¼ë¡œ ë°˜ì˜  
- ì‹œìŠ¤í…œ ì¥ì•  ë°œìƒ ì‹œ ë¦¬ë‘ ë¡œê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë³€ê²½ ì‚¬í•­ì„ ë³µêµ¬  

- ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì€ ib_logfile0, ib_logfile1 ë“±ì˜ íŒŒì¼ë¡œ ì €ì¥ë˜ë©° ìˆœí™˜ ë°©ì‹ìœ¼ë¡œ ë™ì‘  
- íŠ¹ì • í¬ê¸°ì— ë„ë‹¬í•˜ë©´ ë®ì–´ì“°ê¸° ë°©ì‹ìœ¼ë¡œ ì¬ì‚¬ìš©  
- innodb_log_files_in_group ì„¤ì •ì„ í†µí•´ ë‹¤ì¤‘ ë¡œê·¸ íŒŒì¼ì„ êµ¬ì„±í•  ìˆ˜ ìˆìŒ  

- innodb_log_file_sizeëŠ” ê° ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì˜ í¬ê¸°ë¥¼ ì„¤ì •í•˜ë©°, í¬ê¸°ê°€ ë„ˆë¬´ ì‘ìœ¼ë©´ ì²´í¬í¬ì¸íŠ¸ê°€ ìì£¼ ë°œìƒí•˜ì—¬ ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆìŒ  
- í¬ê¸°ê°€ ë„ˆë¬´ í¬ë©´ ë³µêµ¬ ì‹œê°„ì´ ê¸¸ì–´ì§ˆ ìˆ˜ ìˆìŒ  
- innodb_flush_log_at_trx_commit ê°’ì— ë”°ë¼ ë¦¬ë‘ ë¡œê·¸ì˜ ë””ìŠ¤í¬ ë°˜ì˜ ì‹œì ì´ ì¡°ì •ë¨  
- 0ìœ¼ë¡œ ì„¤ì •í•˜ë©´ 1ì´ˆë§ˆë‹¤ ë¦¬ë‘ ë¡œê·¸ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•˜ì—¬ ì„±ëŠ¥ì´ í–¥ìƒë˜ì§€ë§Œ ì¥ì•  ë°œìƒ ì‹œ ë°ì´í„°ê°€ ìœ ì‹¤ë  ìˆ˜ ìˆìŒ  
- 1ì€ ë§¤ íŠ¸ëœì­ì…˜ COMMIT ì‹œ ë¦¬ë‘ ë¡œê·¸ë¥¼ ë””ìŠ¤í¬ì— ê¸°ë¡í•˜ì—¬ ì•ˆì •ì„±ì„ ë³´ì¥í•¨  
- 2ëŠ” ë§¤ COMMIT ì‹œ OS ë²„í¼ì— ê¸°ë¡í•˜ê³ , 1ì´ˆë§ˆë‹¤ ë””ìŠ¤í¬ì— ê¸°ë¡í•˜ì—¬ ì„±ëŠ¥ê³¼ ì•ˆì •ì„±ì˜ ê· í˜•ì„ ë§ì¶¤  

- WAL ê¸°ë²•ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ê¸° ì „ì— ë¨¼ì € ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ì—¬ ì¥ì•  ë°œìƒ ì‹œ ë³µêµ¬ê°€ ê°€ëŠ¥í•¨  
- ë¡œê·¸ ë²„í¼ëŠ” ë¦¬ë‘ ë¡œê·¸ê°€ ë¨¼ì € ì €ì¥ë˜ëŠ” ë©”ëª¨ë¦¬ ê³µê°„ìœ¼ë¡œ ì´í›„ ë””ìŠ¤í¬ë¡œ í”ŒëŸ¬ì‹œë¨  
- ì²´í¬í¬ì¸íŠ¸ëŠ” ë¦¬ë‘ ë¡œê·¸ í¬ê¸° ì´ˆê³¼ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ íŠ¹ì • ì‹œì ì˜ ë³€ê²½ ì‚¬í•­ì„ ë°ì´í„° íŒŒì¼ì— ë°˜ì˜í•˜ëŠ” ê³¼ì •  
- ë¦¬ë‘ ë¡œê·¸ íŒŒì¼ì€ ìˆœí™˜ êµ¬ì¡°ì´ë¯€ë¡œ ì‚¬ìš©ëœ ë¡œê·¸ëŠ” ì²´í¬í¬ì¸íŠ¸ ì´í›„ ë®ì–´ì“°ê¸°ë¨  

- íŠ¸ëœì­ì…˜ ì•ˆì „ì„±ì„ ë³´ì¥í•˜ë©° ì¥ì•  ë°œìƒ ì‹œ ë¹ ë¥¸ ë³µêµ¬ê°€ ê°€ëŠ¥í•¨  
- ë°ì´í„° í˜ì´ì§€ ë³€ê²½ì´ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë””ìŠ¤í¬ì— ê¸°ë¡ë˜ë¯€ë¡œ ì„±ëŠ¥ì´ í–¥ìƒë¨  
- ìˆœì°¨ì ì¸ ë¡œê·¸ ì“°ê¸°ë¡œ ì¸í•´ ë””ìŠ¤í¬ I/O ë¶€í•˜ê°€ ê°ì†Œí•¨  
- ë¦¬ë‘ ë¡œê·¸ê°€ ê°€ë“ ì°¨ë©´ ìƒˆë¡œìš´ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ê°€ ì§€ì—°ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì ì ˆí•œ í¬ê¸° ì„¤ì •ì´ í•„ìš”í•¨  

#### ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤
- ìì£¼ ì‚¬ìš©ë˜ëŠ” í˜ì´ì§€ì— nnodbì—”ì§„ì´ ì§ì ‘ ìƒì„±í•˜ëŠ” ì¸ë±ìŠ¤
- b+ íŠ¸ë¦¬ëŠ” ì¢…ë‹¨ë…¸ë“œê¹Œì§€ ê°€ì•¼ ë ˆì½”ë“œê°€ ìˆìœ¼ë‹ˆê¹Œ ì´ê±¸ ê·¸ëƒ¥ í•´ì‰¬ë¡œ ìµœì í™”ì‹œí‚´
- í•´ì‰¬ê°’ì˜ í‚¤ë¡œëŠ” ì¸ë±ìŠ¤ ê³ ìœ ê°’ + ì¸ë±ìŠ¤ ì‹¤ì œ í‚¤ê°’ ì„ ì”€
- ì˜ˆì „ ë²„ì „ê¹Œì§€ëŠ” ì–´ëŒ‘í‹°ë¸Œ í•´ì‰¬ ì¸ë±ìŠ¤ëŠ” í•˜ë‚˜ì˜ ë©”ëª¨ë¦¬ ê°ì²´ì¸ ì´ìœ ë¡œ ì–´ëŒ‘í‹°ë¸Œ í•´ì‹œ ì¸ë±ìŠ¤ì˜ ê²½í•©ì´ ì‹¬í–ˆë‹¤ ê·¸ë˜ì„œ 8.0ë¶€í„°ëŠ” ë‚´ë¶€ ì ê¸ˆ ê²½í•©ì„ ì¤„ì´ê¸°ìœ„í•´ ì–´ëŒ‘í‹°ë¸Œ í•´ì‰¬ ì¸ë±ìŠ¤ì˜ íŒŒí‹°ì…˜ê¸°ëŠ¥ì„ì œê³µí•œë‹¤ (ëŒ€ì¶© ì´ê²ƒë„ í•˜ë‚˜ë¼ ê²½í•©ì´ ì‹¬í–ˆëŠ”ë° íŒŒí‹°ì…˜ì„ í•´ì¤€ë‹¤ëŠ” ì´ì•¼ê¸°)
- ë„ì›€ ì˜ë˜ëŠ” ê²½ìš°
	- ë””ìŠ¤í¬ë°ì´í„°ê°€ ë²„í¼í’€ì´ë‘ ë¹„ìŠ·í•œê²½ìš°
	- ë™ë“±ì¡°ê±´ ê²€ìƒ‰ë™ë“±ë¹„êµì™€ inì—°ì‚° ë§ì€ê²½ìš°
	- ì¿¼ë¦¬ê°€ ë°ì´í„°ì¤‘ì—ì„œ ì¼ë¶€ë°ì´í„°ì— ì§‘ì¤‘ë˜ëŠ”ê²½ìš°
- ë„ì›€ ì•ˆë˜ëŠ” ê²½ìš°
	- ë””ìŠ¤í¬ì½ê¸°ê°€ ë§ì€ ê²½ìš°
	- íŠ¹ì •íŒ¨í„´ì˜ ì¿¼ë¦¬ê°€ ë§ì€ê²½ìš° (join like)
	- ë§¤ìš° í° ë°ì´í„°ë¥¼ ê°€ì§„ í…Œì´ë¸”ë ˆã…”ì½”ë“œë¥¼ í­ë„“ê²Œ ì½ëŠ” ê²½ìš°
	- 

## íŠ¸ëœì­ì…˜ê³¼ ì ê¸ˆ
---
> ì ê¸ˆê³¼ íŠ¸ëœì­ì…˜ì€ ì„œë¡œ ë¹„ìŠ·í•œ ê°œë… ê°™ì§€ë§Œ, ì‚¬ì‹¤ ì ê¸ˆì€ ë™ì‹œì„±ì„ ì œì–´í•˜ê¸° ìœ„í•œ ê¸°ëŠ¥ì´ê³  íŠ¸ëœì­ì…˜ì€ ë°ì´í„°ì˜ ì •í•©ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ ê¸°ëŠ¥ì´ë‹¤.

### MySQL ì—”ì§„ì˜ ì ê¸ˆ

#### ê¸€ë¡œë²Œ ë½
`FLUSH TABLES WITH READ LOCK`ìœ¼ë¡œ íšë“
- MySQLì—ì„œ ì œê³µí•˜ëŠ” ì ê¸ˆ ê°€ìš´ë° ê°€ì¥ ë²”ìœ„ê°€ í¬ë‹¤.
- ì„œë²„ ì „ì²´ì— ì˜í–¥ì„ ë¯¸ì¹˜ë©°, í…Œì´ë¸”ì€ ë¬¼ë¡  ë°ì´í„°ë² ì´ìŠ¤ê°€ ë‹¬ë¼ë„ ì˜í–¥ì„ ë¯¸ì¹œë‹¤.
- sqldumpìˆ˜ì¤€ìœ¼ë¡œ ë°±ì—…ì„ í• ë•Œë‚˜ ì‚¬ìš©í•˜ê³  ê·¸ë§ˆì €ë„ 8.0ì—ì„œëŠ” ë°±ì—…ë½ì„ ì‚¬ìš©
	- ë°±ì—…ë½ì˜ ê²½ìš° ê°ì²´ db/tableë“± ëª¨ë“  ê°ì²´ ìƒì„± ë³€ê²½ì€ ë§‰íˆê³ , ìœ ì €ê´€ë ¨ë„ ë§‰íˆì§€ë§Œ ì¼ë°˜ì ì¸ í…Œì´ë¸”ì˜ ë°ì´í„° ë³€ê²½ì€ ê°€ëŠ¥í•˜ë‹¤.

#### í…Œì´ë¸” ë½
`LOCK TABLES table_name [read | write]` ë¡œ íšë“
- ë§ˆì°¬ê°€ì§€ë¡œ íŠ¹ë³„í•œ ìƒí™©ì´ ì•„ë‹ˆë©´, ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í• ì¼ ì—†ë‹¤.
- DDLì— ì ê¹ ê±¸ë¦¼

#### ë„¤ì„ë“œ ë½
- ë§ê·¸ëŒ€ë¡œ íŠ¹ì • ë¬¸ìì—´ì—ëŒ€í•œ ë½ì„ íšë“í•˜ëŠ”ê²ƒ
- ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ì˜ ê²½ìŸì¡°ê±´ì´ë‚˜ ë°ì´í„° ë™ê¸°í™”ì— ì“°ì´ê¸°ë„í•¨

#### ë©”íƒ€ë°ì´í„° ë½
- ëª…ì‹œì ì´ì§€ ì•ŠìŒ

### InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì ê¸ˆ
- ë ˆì½”ë“œ ê¸°ë°˜ ë½ì„ ì§€ì›
- ì›ë˜ëŠ” ì ê¸ˆ ì •ë³´ë¥¼ ì–»ëŠ”ê²Œ ê¹Œë‹¤ë¡œì› ëŠ”ë°, `information_schema` ë°ì´í„°ë² ì´ìŠ¤ì˜ `INNODB_TRX`, `INNODB_LOCKS`, `INNODB_LOCK_WAITS` í…Œì´ë¸”ì„ ì¡°ì¸í•´ì„œ í™•ì¸ê°€ëŠ¥
- ìµœê·¼ì—ëŠ” `Performance Schema`ë¥¼ ì´ìš©í•´ì„œ ëª¨ë‹ˆí„°ë§ë„ ê°€ëŠ¥

#### ë ˆì½”ë“œ ë½
- ë‹¤ë¥¸ ë””ë¹„ì˜ ë ˆì½”ë“œë½ì´ë‘ ê±°ì˜ ë˜‘ê°™ì§€ë§Œ, InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë ˆì½”ë“œ ìì²´ê°€ ì•„ë‹ˆë¼ ì¸ë±ìŠ¤ì˜ ë ˆì½”ë“œë¥¼ ì ê·¼ë‹¤.
- ì¸ë±ìŠ¤ê°€ í•˜ë‚˜ë„ ì—†ëŠ” í…Œì´ë¸”ì´ë”ë¼ë„ ë‚´ë¶€ì ìœ¼ë¡œ ìë™ ìƒì„±ëœ í´ëŸ¬ìŠ¤í„° ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤.

#### ê°­ ë½
- MySQLë§Œì˜ íŠ¹ìˆ˜í•œ ë½
- ë ˆì½”ë“œ ìì²´ê°€ ì•„ë‹ˆë¼ ë ˆì½”ë“œì™€ ë°”ë¡œ ì¸ì ‘í•œ ë ˆì½”ë“œ ì‚¬ì´ì˜ ê°„ê²©ì„ ì ê¸ˆ
- ë„¥ìŠ¤í„° í‚¤ ë½ê³¼ ê°™ì´ ì„¤ëª…ë˜ì–´ì•¼í•¨

#### ë„¥ìŠ¤íŠ¸ í‚¤ ë½
- ë ˆì½”ë“œë½ê³¼ ê°­ë½ì„ í•©ì³ë†“ì€ í˜•íƒœ
- `STATEMENT` í¬ë§·ì˜ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ ì“´ë‹¤ê³ í•¨
- ë°”ì´ë„ˆë¦¬ ë¡œê·¸ì— ê¸°ë¡ë˜ëŠ” ì¿¼ë¦¬ê°€ ë ˆí”Œë¦¬ì¹´ ì„œë²„ì—ì„œ ì‹¤í–‰ë  ë•Œ, ì†ŒìŠ¤ ì„œë²„ì—ì„œ ë§Œë“¤ì–´ë‚¸ ê²°ê³¼ì™€ ë™ì¼í•œ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë‚´ë„ë¡ ë³´ì¥í•˜ëŠ”ê²ƒì´ ì£¼ëª©ì 
- ê·¼ë° ë°ë“œë½ì´ ì€ê·¼ ê±¸ë ¤ì„œ ê·¸ëƒ¥ ROW í¬ë§·ì˜ ë¡œê·¸ë¥¼ ì“°ê¸°ë¥¼ ê¶Œí•œë‹¤.
- [ì „ì²´ì ì¸ì„¤ëª…](https://chatgpt.com/share/67c04835-9394-8013-98bd-d6c4b283029a1)

#### AUTO_INCREMENT ë½
- í…Œì´ë¸”ë½ì´ì—ˆë‹¤.
- ëª…ì‹œì ìœ¼ë¡œ ì–»ì„ ë°©ë²•ì€ ì—†ë‹¤.(postgres ìµœê³ ..)

### ì¸ë±ìŠ¤ì™€ ì ê¸ˆ
- ì¸ë±ìŠ¤ ê¸°ë°˜ ë½ì´ê¸° ë•Œë¬¸ì—, ì—…ë°ì´íŠ¸ë˜ëŠ” ë ˆì½”ë“œê°€ ì¸ë±ìŠ¤ê°€ ì•ˆê±¸ë ¤ ìˆë‹¤ë©´, í•´ë‹¹í•˜ëŠ” ëª¨ë“  ë°ì´í„°ê°€ ë½ì´ê±¸ë¦°ë‹¤. í’€í…Œì´ë¸” ìŠ¤ìº”ì„ í•˜ë©´ í…Œì´ë¸”ë½ì´ ê±¸ë¦°ë‹¤.

```mysql
CREATE TABLE orders (

Â  Â  id INT AUTO_INCREMENT PRIMARY KEY,

Â  Â  customer_id INT,

Â  Â  amount DECIMAL(10,2),

Â  Â  status VARCHAR(20),

Â  Â  INDEX idx_customer (customer_id) -- customer_idì— ì¸ë±ìŠ¤ ì¶”ê°€

) ENGINE=InnoDB;

  

INSERT INTO orders (customer_id, amount, status) VALUES
(1, 100.00, 'pending'),
(1, 200.00, 'pending'),
(1, 300.00, 'pending'),
(2, 400.00, 'pending'), 
(2, 500.00, 'pending');

BEGIN;
UPDATE orders SET status = 'completed' WHERE customer_id = 1 AND amount = 300;

-- customer id 1ì¸ ì£¼ë¬¸ rows ë‹¤ì ê¹€
```

#### ë ˆì½”ë“œ ìˆ˜ì¤€ì˜ ì ê¸ˆ í™•ì¸ ë° í•´ì œ
> information_schemaëŠ” deprecated ë˜ëŠ”ì¤‘ performance_schemaì˜ data_locks, data_lock_waitsë¥¼ ìœ„ì£¼ë¡œ ì‚¬ìš©í•  ê²ƒ

ì¡°íšŒ ì˜ˆì‹œëŠ” [[MySQL-Record-Lock-Queries]] ì—¬ê¸°ì— ë³„ë„ ì •ë¦¬

