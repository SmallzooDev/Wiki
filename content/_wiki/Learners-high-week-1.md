---
title: 러너스 하이 1주차 회고
summary: 프론트엔드 잔여작업 마치기, 테스트코드 도입하기 
date: 2024-12-22 14:12:48 +0900
lastmod: 2024-12-22 14:12:48 +0900
tags: 
categories: 
description: 
showToc: true
tocOpen: true
---

## 1주차 인트로
---

인트로에 작성은 해뒀지만, 내가 이해했던 러너스 하이의 취지는
토스에서 일하는 방식대로 일해보기 이고, 토스에서 말하는 방법으로 일한다면

1. 문제를 직접 발견하거나, 더 좋은 구조에 대한 제안을 할 수 있고
2. 그부분에 대한 임팩트를 정확하게 측정 할 수 있고
3. 그 측정한 값을 기반으로 커뮤니케이션 한다면 머지와 배포가 가능하다.

라는 것을 가장 주요한 골자로 생각했다.

아마도 해당 자리에 모인 모든 이들이 지금 직장에서 저마다의 사정은 있겠지만, 저 말대로 한다면 그래도 결과를 낼 수 있었을 것이라고 생각한다.

그리고 나도 나만의 사정과 한계점을 정리하고 시작하려고 했다.

> 물론 이부분이 '이래서 안된다' 와 같은 핑계로 삼기 위해서가 아니라, 정확하게 내가 만들어 낼 수 있는 범위를
> 측정하기 위해서 였다. 당연하게도 지금 나의 상황이 다른 참여자들보다 낫거나 나쁘다고 생각하지는 않는다.
> 일을 성공하는 이유는 비슷할거고, 실패하는 이유는 저마다 다를게 분명하니까!

1. 회사의 태스크를 처리하는 과정은 좋은의미로도 나쁜의미로도 경직되어 있다. 고객센터로 라이징된 이슈나 긴급건이 아니라면, 기술협의를 거쳐야 태스크가 생성, 배정된다. 관례적으로 운영팀을 제외하고는 고도화나 개선관련 이슈를 올리기 어렵다.
2. 특히 qa팀에 qa를 요청하는것도, 태스크의 과정중에 정해진 절차에 의거해서 진행해야 한다.
3. 특히나 지금은 코드리뷰를 해줄 팀원들과 머지, 태스크 승인을 해줄 팀원들이 모두 연말까지 휴가중이다.
4. 나에게 1월 초까지 할당된 태스크의 대부분은 프론트엔드 작업이다.

사실 4번이 가장 절망적이었고, 해당 부분에서 조치를 취할 방법이 전혀 없다고 생각해서 생각보다 고민의 시간이 길었다.
그렇지만 고민 이후로 할 수 있는 일들을 고민하니 아래와 같이 결론이 났다.

> 1. 프론트엔드 업무를 빠르게 털어버리자.
> 2. 해당 작업과 관련된 백엔드 코드를 개선해보자.
> 3. 해당 작업의 qa테스트 요청에서 해당 변경을 같이 qa받고 별도 리뷰를 진행하자.

## 프론트엔드 작업 빨리 끝내기(머지 완료)
---

기존 커머스 플랫폼에 커뮤니티 기능을 도입하는 태스크였고,
내가 맡은 부분은 레거시 cms의 뷰 작업과 관련한 api작업, 그리고 프론트엔드 페이지 몇개 만드는 태스크였다.
1월 1일 배포예정으로 되어있었던 태스크의 코드작업을 야근해서 목요일에 마무리 지었다.
작업과 관련해서 초점은 맞춘 부분은 프론트엔드 업무가 내가 보여주고 싶은 부분이 아니기도 하고, 
앞으로도 프론트엔드 작업은 큰 흥미가 없어서 최대한 빨리 끝내는데 집중했다.
물론 과정에서 책임감을 버리고 싶지는 않았기에, 몇몇 구조개선을 진행했다.
레거시 cms라 사용성에서 일부 잘못된 부분이 있었다.
예를 들어 router에 검색 조건을 push하고 lazyQuery로 라우터의 변경이 감지되면 쿼리를 실행하는 로직이 있었는데,
이러한 부분들을 리팩토링 하면서 진행했다. 

상태값으로 관리해야 할 데이터들을 분리해서 상태값으로 관리하고,
appoloClient의 refetch, invalidate query key를 이용해서 특정 상태값(주로 검색 조건)이 
변경됨에 따라 다시 호출을 해야 하는 부분들을 정리했다.

결론적으로 불필요한 깜빡임이나, 불필요한 다수의 쿼리파라미터로 지저분해지는 일을 개선했다.


## 전시영역을 담당하는 백엔드 프로젝트에 테스트코드 도입하기
---

### "Hasura 라고 있어요 ..." (전시영역 관련 독특한 구조)

![hasura-img-1](https://github.com/user-attachments/assets/5e526efe-6234-41a9-918b-df415b2d52c3)

![hasura-img-2](https://github.com/user-attachments/assets/3975d0fa-7c82-499e-a547-33ce0b3afc08)

![hasura-img-3](https://github.com/user-attachments/assets/f0c3722e-0f6f-4979-bc79-e873c6798918)
