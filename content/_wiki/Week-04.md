---
title: Week-04 📚
summary: 
date: 2024-05-13 20:44:06 +0900
lastmod: 2024-05-13 20:44:06 +0900
tags: 
categories: 
description: 
showToc: true
tocOpen: true
---

## 11. CPU 가상화에 대한 마무리 대화 

- 간단한 Wrapup 대화를 진행한다.

> 이 정책 전쟁은 영원히 계속 될 것처럼 보이네요.

> 공학은 원래 그런거라네, 그리고 그것은 또한 권장 사항이야! 관점의 차이지,
> 나는 개인적으로 실용적인 것이 좋다고 생각하네. 실용주의자들은 모든 문제가 깔끔하고 쉬운 해결책이 있다고 생각하지 않아.


## 12. 메모리 가상화에 관한 대화 

> 수면 부족, 그것은 간단하게 해결할 수 있지. 
> 좀 덜 놀고 더 자도록 하게. 
> 가상 메모리를 이해하기 위해서는 여기서 부터 시작해야 하네. 
> 사용자 프로그램이 생성하는 모든 주소는 가상주소이지. 
> 운영체제는 각 프로세스에게 단지 환상을 제공하지. 
> 구체적으로 프로세스가 자신만의 커다란 전용 메모리를 가진다는 환상 을 제공하는 것이지. 
> 하드웨어로부터 약간의 도움을 얻어 운영체제는 이 가장된 가상 주소를 실제 물리 주소로 변환하고 원하는 정보의 위치를 찾을 수 있네.

> 사용하기 쉬운 시스템을 제공하기 위하여 일세, 운영체제는 각 프로세스에게 코드와 데이터를 저장할 수 있는 대용량의 연속된 주소 공간(address space) 을 가지고 있다는 시각을 제공하고자 하는거지, 프로그래머는 이 변수를 어디에 저장해야 하는 거지?"와 같은 걱정은 하지 않아도 된다는 거야. 프로그램의 가상 주소 공간이 크고 변수 등을 위한 많은 공간을 가지고 있기 때문이지. 만일 코드 와 데이터를 작고 붐비는 공간에 넣을 걱정을 해야만 했다면 프로그래머로서의 인생은 더 힘들어졌을 거야.


### 13. 주소 공간의 개념

### 13.1. 초기 시스템

- 메모리 관점에서, 초기 컴퓨터는 많은 개념을 가지고 있지 않았다.

- 운영체제는 메모리에 상주하는 프로그램(당시의 운영체제)를 올리고, 남은 메모리를 사용자 프로그램에게 할당했다.

### 13.2 멀티프로그래밍과 시분할

- 멀티프로그래밍이란, CPU가 프로그램을 번갈아가며 실행하는 것을 의미한다.

- 그리고 특히 대화식(interactive) 개념이 중요한 요구 사항이 되었다.

- 초기에는 엉성하게도, 프로세스에게 모든 메모리 접근 권한을 주고 실행하다가 중지하면, 다른 프로그램을 메모리에 올리는 방식으로 운영체제가 동작했다.

- 당연히 느리다

- 그래서 메모리에 여러 프로세스를 올리면, 보호의 문제가 대두되게 된다.

- 특히나 현대의 프로그램을 생각해보면 힙과 같이 동적으로 메모리를 할당하는데, 이러한 상태로 해당 프로그램을 두게 하면 너무 위험하다.

### 13.3 주소 공간

- 이러한 문제를 해결하기위해, 여러 프로세스가 메모리에 올라갔음에도, 사용하기 쉬운 메모리 개념을 만들어야 했고,

- 그것이 바로 주소 공간이다.

- 결론적으로 운영체제는 가상 주소 공간을 제공하고, 프로세스는 이 가상 주소 공간을 사용한다.

- 이렇게 하는것을 virtualizing memory라고 한다.


### 13.4 목표

가상화를 통해 얻고 싶은 목표는 다시 다음과 같다.

1. 투명성(transparency) : 사용자는 가상화를 인지하지 않아야 한다.
2. 효율성(efficiency) : 가상화는 비용이 적어야 한다.
3. 보호(protection) : 프로세스는 서로의 메모리에 접근할 수 없어야 한다.



